# Dubbo基础配置

其实阿里在实现Dubbo的时候有一个很好的思想就是把每一个模块都用一个通用接口，比方说不同的注册中心都去实现这个通用接口。如果不配置，就可以采用默认的配置，如果配置了某一种协议或者注册中心，因此就可以实现各种扩展，其实这个思想也可以用在我现在的工程当中，这个其实是有助于提升我的框架搭建能力的。因为有这一次的框架搭建经验，那么往后我在搭建项目的同时就不能只是简单的考虑这一个需求时怎样的，而是要考虑一个长远的计划。想一下，其实在刚进入公司的时候，完全就是依葫芦画瓢，从来不懂为什么要这么做，这么做的原因时什么。其实有时候不理解，还是要先去做，做完过几年回过头来看，总结发现，其实一直是努力向上的，这种方式其实很好的方式，不去问意义，我只问目标，目标是赚钱，一切能赚钱的就是我的出发点，一切不能赚钱的，其实是与我无关的，能做的事情就是把我好现在，不要想太多，否则极其容易陷入虚无。
Dubbo 这个框架用着用着就发现这个框架很好，刚开始用的时候不大行，但是现在用着就发现一切其实都很好理解了。看Dubbo源码和文档的过程其实不再纠结于这个东西时如何实现的，而是要看架构是如何搭建起来的。以前我们往往会硬编码，但是现在我们发现。学完Dubbo之后，你就会理解开放-封闭原则为什么重要。这些代码目前能够改动的点很重要。
## Dubbo配置
dubbo配置主要有应用级别的配置（Application Config）、注册中心层的配置（Registry Config）、协议层的配置（Protocol Config），服务提供者有具体导出哪一个服务有（Service Config），服务消费者有（Reference Config），具体可以参考[配置概述](https://cn.dubbo.apache.org/zh-cn/docs/references/configuration/overview/)。
这个配置演变也是从XML文件到Java Config配置，到约定大于配置。具体可以参考[Dubbo配置](https://cn.dubbo.apache.org/zh-cn/docs/references/configuration/)

### 1、服务提供者
Dubbo服务提供者主要需要针对是否导出，这里的导出（export）其实就是将服务注册到注册中心（Zookeeper、ETCD、Nacos等），还有一个就是是否需要将这个服务注册到本地（injvm），这里又个问题就是当一个服务导出到注册中心之后，那么当远程服务调用的时候肯定需要先请求注册中心，然后通过注册中心来调用服务提供者的服务，那么在这个调用的过程中，是如何确定调用链路的呢？比方说Consumer A需要调用Provider A的Service1，那么当Provider A向注册中心注册服务的时候，需要带上什么样的信息才能保证ConsumerA在RPC调用的时候能够让Zookeeper调用的呢？比方说我们一直有Dubbo服务以及对应的group，注册中心是如何实现这种服务查找以及服务的。

这里还有一个疑问就是我们在配置的时候配置协议主要是针对什么呢？这个协议是如何实现的，比方我们使用的dubbo协议，或者其他协议。

看很多文章说URL是Dubbo的灵魂，通过URL可以将所需要的配置
### 2、服务消费方

### 3、多注册中心
公司的服务一直以来可能是存储在某一个注册中心，如 Zookeeper，但到了某个时间节点，因为各种各样的原因，当我们要迁移到另外的注册中心时，多注册中心模型能够保证平滑的迁移。注册中心的迁移过程中如何保证老的注册中心的流量慢慢的切换到新的注册中心呢？是否支持特定的接口走不同的注册中心呢？



