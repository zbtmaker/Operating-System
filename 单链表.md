# 单链表

这是用C语言写的单链表，也是我第一次用C语言写LeetCode。第一次接触C语言的指针和结构（struct）。具体的源码可以看下面代码，然后根据源码来讲一讲C语言的指针和结构

```c
#include <stdlib.h>

typedef struct MyLinkedList{
    int val;
    struct MyLinkedList *next;
} MyLinkedList;


MyLinkedList* myLinkedListCreate() {
    MyLinkedList *empty = (struct MyLinkedList *)malloc(sizeof(struct MyLinkedList));
    empty->next = NULL;
    empty->val = 0;
    return empty;
}

int myLinkedListGet(MyLinkedList* obj, int index) {
    int i = -1;
    while(i < index && obj != NULL) {
        obj = obj->next;
        i++;
    }
    return obj == NULL ? -1 : obj -> val;
}

void myLinkedListAddAtHead(MyLinkedList* obj, int val) {
    if(obj == NULL) {
        return;
    }
    MyLinkedList *new = (struct MyLinkedList *)malloc(sizeof(struct MyLinkedList));
    new -> val = val;
    new -> next = obj->next;
    obj -> next = new;
}

void myLinkedListAddAtTail(MyLinkedList* obj, int val) {
    if(obj == NULL) {
        return;
    }
    MyLinkedList *pre;
    while(obj != NULL) {
        pre = obj;
        obj = obj -> next;
    }
    MyLinkedList *new = (struct MyLinkedList *) malloc(sizeof(struct MyLinkedList));
    new -> val = val;
    new -> next = NULL;
    pre -> next = new;
}

void myLinkedListAddAtIndex(MyLinkedList* obj, int index, int val) {
    MyLinkedList *pre ;
    int i = -1;
    while(i < index && obj!=NULL) {
        pre = obj;
        obj = obj -> next;
        i++;
    }
    if(i < index) {
        return;
    }
    MyLinkedList *new = (struct MyLinkedList *) malloc(sizeof(struct MyLinkedList));
    new -> val = val;
    new -> next = pre -> next;
    pre -> next = new;
}

void myLinkedListDeleteAtIndex(MyLinkedList* obj, int index) {
    MyLinkedList *pre;
    int i = -1;
    while(i < index && obj != NULL) {
        pre = obj;
        obj = obj -> next;
        i++;
    }
    if(obj == NULL) {
        return;
    }
    pre->next = obj->next;
    free(obj);
}

void myLinkedListFree(MyLinkedList* obj) {
    free(obj);
}
```

这里涉及了以下几个知识点，

* 结构体，这里的结构体和面向对象语言的类（class）很像。
* 指针，我理解的指针其实就是一种自定义结构的一种新型结构，这个是形式上的。其他的类型都是保存实际的值，而指针真正的含义是保存地址的一个变量。建议参考《C和指针》一书，这本书是永远的神，把C语言最重要的部分讲解的清清楚楚。
* 空指针
* malloc
* free